<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Session Attendance</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h2>Session Attendance</h2>

<div id="cadetList"></div>

<button onclick="saveAttendance()">Continue to Scoring</button>

<script>
// Example cadet list â€” replace with your real data later
const cadets = [
    "Cadet A",
    "Cadet B",
    "Cadet C",
    "Cadet D"
];

function loadCadets() {
    const container = document.getElementById("cadetList");

    cadets.forEach(name => {
        const row = document.createElement("div");
        row.innerHTML = `
            <label>
                <input type="checkbox" class="attend" value="${name}">
                ${name}
            </label>
        `;
        container.appendChild(row);
    });
}

function saveAttendance() {
    const checkboxes = document.querySelectorAll(".attend");
    const attending = [];

    checkboxes.forEach(cb => {
        if (cb.checked) attending.push(cb.value);
    });

    // Build session object
    const session = {
        timestamp: new Date().toISOString(),
        attending: attending,
        scores: {} // filled in next page
    };

    // Save to localStorage
    localStorage.setItem("current_session", JSON.stringify(session));

    // Move to scoring
    window.location.href = "scores.html";
}

document.addEventListener("DOMContentLoaded", loadCadets);
</script>

</body>
</html>